PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX schema: <http://schema.org/>
CONSTRUCT {
  ?resource1 rdf:type schema:Person.
  ?resource1 schema:knows ?resource2.
}
WHERE {
  ?resource1 rdf:type schema:Person.
  {
    ?resource1 rdf:type schema:Person.
    BIND(?resource1 AS ?resource2)
    ?resource2 (schema:address/schema:addressRegion) ?resource4.
    FILTER(?resource4 = "CA")
  }
}